<!DOCTYPE html>
<html>
<head>
    <title>è‡ªæˆ‘èªè­˜èˆ‡å…¨äººç™¼å±• - å‡ºå¸­è¨˜éŒ„</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        h1 {
            color: #2c3e50;
            text-align: center;
            padding-bottom: 10px;
            border-bottom: 3px solid #3498db;
        }
        
        .date-header {
            text-align: center;
            font-size: 1.2em;
            color: #7f8c8d;
            margin: 20px 0;
            padding: 10px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .student-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .student-item {
            background-color: white;
            margin: 10px 0;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            transition: background-color 0.2s;
        }
        
        .student-item.present {
            background-color: #e8f5e9;
            border-left: 5px solid #4caf50;
        }
        
        .student-info {
            flex: 1;
        }
        
        .student-name {
            font-size: 1.2em;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 4px;
        }
        
        .student-email {
            font-size: 0.9em;
            color: #7f8c8d;
            font-family: monospace;
        }
        
        .attendance-checkbox {
            margin-right: 20px;
            transform: scale(1.5);
            cursor: pointer;
        }
        
        .attendance-checkbox input {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }
        
        .summary {
            margin-top: 30px;
            padding: 20px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .summary-stats {
            font-size: 1.1em;
            color: #2c3e50;
        }
        
        .summary-buttons {
            display: flex;
            gap: 10px;
        }
        
        button {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.2s;
        }
        
        .save-btn {
            background-color: #3498db;
            color: white;
        }
        
        .save-btn:hover {
            background-color: #2980b9;
        }
        
        .reset-btn {
            background-color: #e74c3c;
            color: white;
        }
        
        .reset-btn:hover {
            background-color: #c0392b;
        }
        
        .mark-all-btn {
            background-color: #f39c12;
            color: white;
        }
        
        .mark-all-btn:hover {
            background-color: #d35400;
        }
        
        .footer {
            margin-top: 20px;
            text-align: center;
            color: #95a5a6;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <h1>è‡ªæˆ‘èªè­˜èˆ‡å…¨äººç™¼å±•</h1>
    
    <div class="date-header">
        ğŸ“… å‡ºå¸­è¨˜éŒ„ - <span id="currentDate"></span>
    </div>
    
    <ul class="student-list" id="studentList">
        <!-- Students will be inserted here by JavaScript -->
    </ul>
    
    <div class="summary">
        <div class="summary-stats">
            <span id="presentCount">0</span>/10 å‡ºå¸­
        </div>
        <div class="summary-buttons">
            <button class="mark-all-btn" onclick="markAllPresent()">å…¨é«”å‡ºå¸­</button>
            <button class="reset-btn" onclick="resetAttendance()">é‡è¨­</button>
            <button class="save-btn" onclick="saveAttendance()">å„²å­˜è¨˜éŒ„</button>
        </div>
    </div>
    
    <div class="footer">
        âš¡ é»æ“Šæ ¸å–æ–¹å¡Šè¨˜éŒ„å‡ºå¸­æƒ…æ³ â€¢ è³‡æ–™è‡ªå‹•å„²å­˜åœ¨ç€è¦½å™¨ä¸­
    </div>

    <script>
        // Student data
        const students = [
            { name: "å¼µå®¶è±ª", email: "cheung.kaho@student.edu" },
            { name: "æå°æ•", email: "li.siuman@student.edu" },
            { name: "ç‹å‰æ˜", email: "wang.waiming@student.edu" },
            { name: "é™³é›…é›¯", email: "chan.ngaman@student.edu" },
            { name: "é»ƒå­è»’", email: "wong.tshin@student.edu" },
            { name: "æ—éœæ€¡", email: "lam.chingyi@student.edu" },
            { name: "é„­ä¿Šå‚‘", email: "cheng.chunkit@student.edu" },
            { name: "å³ä½©çŠ", email: "ng.puishan@student.edu" },
            { name: "åŠ‰å¿—å¼·", email: "lau.chikeung@student.edu" },
            { name: "ä½•ç¾çª", email: "ho.meiki@student.edu" }
        ];
        
        // Initialize attendance object
        let attendance = {};
        
        // Format today's date
        function formatDate() {
            const options = { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' };
            return new Date().toLocaleDateString('zh-HK', options);
        }
        
        // Load saved attendance for today
        function loadAttendance() {
            const today = new Date().toDateString();
            const saved = localStorage.getItem('attendance_' + today);
            
            if (saved) {
                attendance = JSON.parse(saved);
            } else {
                // Initialize all as absent
                students.forEach((student, index) => {
                    attendance[index] = false;
                });
            }
            
            renderRoster();
            updateSummary();
        }
        
        // Render the student roster
        function renderRoster() {
            const rosterDiv = document.getElementById('studentList');
            rosterDiv.innerHTML = '';
            
            students.forEach((student, index) => {
                const li = document.createElement('li');
                li.className = 'student-item' + (attendance[index] ? ' present' : '');
                
                li.innerHTML = `
                    <div class="student-info">
                        <div class="student-name">${student.name}</div>
                        <div class="student-email">${student.email}</div>
                    </div>
                    <div class="attendance-checkbox">
                        <input type="checkbox" 
                               ${attendance[index] ? 'checked' : ''} 
                               onchange="toggleAttendance(${index})"
                               aria-label="å‡ºå¸­è¨˜éŒ„ for ${student.name}">
                    </div>
                `;
                
                rosterDiv.appendChild(li);
            });
        }
        
        // Toggle attendance for a student
        function toggleAttendance(index) {
            attendance[index] = !attendance[index];
            
            // Update the visual style
            const items = document.querySelectorAll('.student-item');
            if (items[index]) {
                if (attendance[index]) {
                    items[index].classList.add('present');
                } else {
                    items[index].classList.remove('present');
                }
            }
            
            updateSummary();
            autoSave();
        }
        
        // Mark all students as present
        function markAllPresent() {
            students.forEach((_, index) => {
                attendance[index] = true;
            });
            renderRoster();
            updateSummary();
            autoSave();
        }
        
        // Reset all attendance to unchecked
        function resetAttendance() {
            if (confirm('ç¢ºå®šè¦é‡è¨­æ‰€æœ‰å‡ºå¸­è¨˜éŒ„å—ï¼Ÿ')) {
                students.forEach((_, index) => {
                    attendance[index] = false;
                });
                renderRoster();
                updateSummary();
                autoSave();
            }
        }
        
        // Save attendance to localStorage
        function saveAttendance() {
            const today = new Date().toDateString();
            localStorage.setItem('attendance_' + today, JSON.stringify(attendance));
            
            // Show save confirmation
            const saveBtn = document.querySelector('.save-btn');
            const originalText = saveBtn.textContent;
            saveBtn.textContent = 'âœ“ å·²å„²å­˜';
            saveBtn.style.backgroundColor = '#27ae60';
            
            setTimeout(() => {
                saveBtn.textContent = originalText;
                saveBtn.style.backgroundColor = '#3498db';
            }, 2000);
        }
        
        // Auto-save (silent)
        function autoSave() {
            const today = new Date().toDateString();
            localStorage.setItem('attendance_' + today, JSON.stringify(attendance));
        }
        
        // Update summary statistics
        function updateSummary() {
            const presentCount = Object.values(attendance).filter(value => value).length;
            document.getElementById('presentCount').textContent = presentCount;
        }
        
        // Load previous days (optional feature)
        function loadPreviousDay(dateString) {
            const saved = localStorage.getItem('attendance_' + dateString);
            if (saved) {
                attendance = JSON.parse(saved);
                renderRoster();
                updateSummary();
                document.getElementById('currentDate').textContent = dateString;
            } else {
                alert('æ²’æœ‰æ‰¾åˆ°è©²æ—¥æœŸçš„è¨˜éŒ„');
            }
        }
        
        // Initialize the page
        document.getElementById('currentDate').textContent = formatDate();
        loadAttendance();
    </script>
</body>
</html>
